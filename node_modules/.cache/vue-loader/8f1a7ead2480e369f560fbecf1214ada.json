{"remainingRequest":"/Projetos/meutempo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Projetos/meutempo/src/views/Dashboard.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/Projetos/meutempo/src/views/Dashboard.vue","mtime":1569432775439},{"path":"/Projetos/meutempo/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Projetos/meutempo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Projetos/meutempo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Projetos/meutempo/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Projetos/meutempo/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Projetos/meutempo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Projetos/meutempo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '~@/assets/stylus/dashboard.styl';\n",{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA","file":"Dashboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <v-container grid-list-lg>\n      <v-layout row wrap>\n        <v-flex xs12>\n          <v-form\n            class=\"form-city\"\n            ref=\"formCity\"\n            v-model=\"valid\"\n            :lazy-validation=\"lazy\"\n            @submit.prevent\n          >\n            <v-container grid-list-md>\n              <v-layout row wrap justify-space-between>\n                <v-flex class=\"box-city\" xs12 sm12 md10>\n                  <v-text-field\n                    v-model=\"currentCity\"\n                    label=\"City Name\"\n                    :rules=\"[v => !!v || 'City is required']\"\n                    required\n                    outlined\n                    @keyup.13=\"search\"\n                  ></v-text-field>\n                </v-flex>\n                <v-flex class=\"box-btn\" xs12 sm12 md2>\n                  <v-btn\n                    :loading=\"isWaiting\"\n                    :disabled=\"!valid\"\n                    :block=\"true\"\n                    color=\"success\"\n                    class=\"mr-4\"\n                    height=\"56\"\n                    @click=\"search\"\n                  >Search</v-btn>\n                </v-flex>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </v-flex>\n        <v-flex xs12>\n          <v-container grid-list-md>\n            <div class=\"results\" v-if=\"hasResults && !isWaiting\">\n              <v-card color=\"#F9F9F9\" max-width=\"320\">\n                <v-list-item two-line>\n                  <v-list-item-content>\n                    <v-list-item-title class=\"headline\">San Francisco</v-list-item-title>\n                    <v-list-item-subtitle>Mon, 12:30 PM, Mostly sunny</v-list-item-subtitle>\n                  </v-list-item-content>\n                </v-list-item>\n\n                <v-card-text>\n                  <v-row align=\"center\">\n                    <v-col class=\"display-3\" cols=\"6\">23&deg;C</v-col>\n                    <v-col cols=\"6\">\n                      <v-img\n                        src=\"https://cdn.vuetifyjs.com/images/cards/sun.png\"\n                        alt=\"Sunny image\"\n                        width=\"92\"\n                      ></v-img>\n                    </v-col>\n                  </v-row>\n                </v-card-text>\n              </v-card>\n            </div>\n            <div class=\"loading\" v-if=\"isWaiting\">\n              <v-progress-circular :size=\"150\" color=\"primary\" indeterminate></v-progress-circular>\n            </div>\n          </v-container>\n        </v-flex>\n      </v-layout>\n    </v-container>\n\n    <v-snackbar v-model=\"snackbar\" :color=\"color\" :timeout=\"timeout\">\n      {{ text }}\n      <v-btn icon @click=\"snackbar = false\">\n        <v-icon>mdi-close</v-icon>\n      </v-btn>\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\nimport { Line } from \"vue-chartjs\";\n\nexport default {\n  extends: Line,\n  name: \"dashboard\",\n  data: () => ({\n    hasResults: false,\n    isWaiting: false,\n    valid: true,\n    lazy: false,\n    currentCity: \"\",\n    text: \"\",\n    color: \"\",\n    timeout: 4000,\n    snackbar: false\n  }),\n  methods: {\n    async search() {\n      this.isWaiting = true;\n      this.hasResults = false;\n      try {\n        if (this.$refs.formCity.validate()) {\n          const response = await this.getCityWoeid();\n          if (response !== undefined) {\n            let { woeid } = response;\n            await this.getCityDayInfo(woeid);\n            await this.getCityNext5(woeid);\n            this.hasResults = true;\n          } else {\n            this.text = \"City not found.\";\n            this.color = \"info\";\n            this.snackbar = true;\n          }\n        }\n        this.isWaiting = false;\n      } catch (error) {\n        this.text =\n          \"Something went wrong. Try again, if the problem persist, contact the admin.\";\n        this.color = \"error\";\n        this.snackbar = true;\n        this.isWaiting = false;\n      }\n    },\n    async getCityWoeid() {\n      let city = this.currentCity;\n      const { data } = await this.$axios.get(`/location/search/?query=${city}`);\n      console.log(\"data\", data[0]);\n      return data[0];\n    },\n    async getCityDayInfo(woeid) {\n      const { data } = await this.$axios.get(`/location/${woeid}/`);\n      console.log(\"data\", data);\n      return data;\n    },\n    async getCityNext5(woeid) {\n      let [month, day, year] = new Date().toLocaleDateString().split(\"/\"); // example: 9/25/2019\n      const { data } = await this.$axios.get(\n        `/location/${woeid}/${year}/${month}/${day}/`\n      );\n      console.log(\"data\", data);\n      return data;\n    }\n  },\n  mounted() {\n    console.log(this.renderChart);\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n@import '~@/assets/stylus/dashboard.styl';\n</style>"]}]}